<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>일기 작성</title>
    <link rel="icon"
          href="https://user-images.githubusercontent.com/54930365/194706403-e3cd6125-9560-46ed-9555-ab7900d5ca8c.png">
    <link rel="stylesheet" href="/static/list.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
            integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
            integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
            crossorigin="anonymous"></script>

</head>

<body style="margin: 0px;width:100%;align-items: center;display: flex;justify-content: center;
  align-items:center;" onload="loadStatus()">

<div class="container" style="margin: 0;width:100%;padding-top:5%;">
    <h1 style="text-align: center;">{{ seq }}번 일기</h1>
    <div style="margin: 0px auto;display: block;margin-top:30px;font-size:24px;">
        <form action="/update/{{ seq }}" method="post">
            <table style="border: 2px solid;border-collapse: collapse;width: 1000px;
            height:500px;font-size:24px;text-align: center;table-layout: fixed;margin: auto">
                <tbody>
                <tr>
                    <th scope="row" style="background: #ffdd8e">
                        제목
                    </th>
                    <td colspan="2">
                        <input type="text" name="title" class="form-control mt-4 mb-2" style="font-size: 24px"
                               value="{{ diary['title'] }}" required>
                    </td>
                    <th>
                        오늘의 기분
                    </th>
                    <td colspan="2">
                        <select name="status" id="status">
                            <option value="보통">보통😀</option>
                            <option value="행복">행복😄</option>
                            <option value="신남">신남😆</option>
                            <option value="놀람">놀람😳</option>
                            <option value="당황">당황😅</option>
                            <option value="감동">감동🥹</option>
                            <option value="우울">우울🙁</option>
                            <option value="지루">지루🥱</option>
                            <option value="짜증">짜증🤬</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <th>
                        닉네임
                    </th>
                    <td colspan="2">
                        <input type="text" name="writer" class="form-info"
                               value="{{ diary['writer'] }}" maxlength="10">
                    </td>

                    <th>
                        비밀번호
                    </th>
                    <td colspan="2">
                        <input type="password" name="password" id="password" class="form-info"
                               placeholder="10자 이내" minlength="3" maxlength="10">
                        <img src="https://user-images.githubusercontent.com/54930365/194729984-95cf1b29-c385-4d72-ac45-198f622532ed.png"
                             id="showText" onclick="hideShowPsw()">
                    </td>

                </tr>
                <tr>
                    <th>
                        내용
                    </th>
                    <td colspan="5">
                        <div class="form-group">
                            <textarea class="form-control" rows="10" name="content" style="font-size: 24px"
                                      required>{{ diary['content'] }}</textarea>
                        </div>
                    </td>
                </tr>


                </tbody>
            </table>


            <button type="submit" class="btn btn-secondary mb-3" style="margin: 10px 5px 0px 150px;font-size: 24px">수정완료</button>

        </form>
    </div>
</div>
</body>
</html>
<style>
    th, td {
        border: 2px solid #444444;
        padding: 10px;
    }

    th {
        background: #ffdd8e;
    }

    img {
        weight: 30px;
        height: 30px;
    }
</style>
<script type="text/javascript">
    var demoImg = document.getElementById("showText");
    var demoInput = document.getElementById("password");

    function hideShowPsw() {
        if (demoInput.type == "password") {
            demoInput.type = "text";
            demoImg.src = "https://user-images.githubusercontent.com/54930365/194729986-f0d30df6-5a09-423a-8de4-bdf883af54b8.png";
        } else {
            demoInput.type = "password";
            demoImg.src = "https://user-images.githubusercontent.com/54930365/194729984-95cf1b29-c385-4d72-ac45-198f622532ed.png";
        }
    }

    function loadStatus() {
        var status = document.getElementById('status');
        for (var i = 0; i < status.options.length; i++) {
            if (status.options[i].value === "{{ diary['status'] }}") {
                status.options[i].selected = true;
            }
        }
    }
</script>